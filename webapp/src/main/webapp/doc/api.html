<html>
	<head>
        <title>flophase - api</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//cdnjs.cloudflare.com/ajax/libs/prettify/r224/prettify.css" type="text/css" rel="stylesheet" />
    </head>
	<body onload="prettyPrint();">
        <div class="navbar navbar-fixed-top">
   			<div class="navbar-inner">
   				<div class="container">
   					<button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
			            <span class="icon-bar"></span>
			        </button>
	   				<a href="/index.jsp" class="brand">flophase</a>
	   				<div class="nav-collapse collapse">
	   					<ul class="nav">
	   						<li class="active"><a href="api.html">API</a></li>
	   					</ul>
	   				</div>
   				</div>
   			</div>
        </div>
		<div class="container">
	        <ul class="nav nav-pills">
       			<li><a href="#accounts">Accounts</a></li>
       			<li><a href="#cashflow">Cash Flow</a></li>
       			<li><a href="#entries">Entries</a></li>
       			<li><a href="#transactions">Transactions</a></li>
       			<li><a href="#user">User</a></li>
       		</ul>
        	<h1 id="accounts">Accounts</h1>
			<h2>Add Account</h2>
			<ul>
				<li>Description: Creates a new account.</li>
				<li>Command: account/add</li>
				<li>Parameters:
					<ul>
						<li>name: The name of the account</li>
						<li>balance: The initial balance of the account</li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...],
   content: {
      key: &lt;accountKey&gt;,
      name: &lt;accountName&gt;,
      balance: &lt;accountBalance&gt;
   }
}</pre>
				</li>
			</ul>
			<h2>Delete Account</h2>
			<ul>
				<li>Description: Deletes an existing account</li>
				<li>Command: account/delete</li>
				<li>Parameters:
					<ul>
						<li>key: The key of the account</li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...]
}</pre>
			</ul>
			<h2>Edit Account</h2>
			<ul>
				<li>Description: Updates an existing account</li>
				<li>Command: account/edit</li>
				<li>Parameters:
					<ul>
						<li>key: The key of the account</li>
						<li>name: The new name of the account</li>
						<li>balance: The new balance of the account</li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...],
   content: {
      key: &lt;accountKey&gt;,
      name: &lt;accountName&gt;,
      balance: &lt;accountBalance&gt;
   }
}</pre>
			</ul>
			<h2>Query Accounts</h2>
			<ul>
				<li>Description: Queries the server for a list of accounts.</li>
				<li>Command: account/q</li>
				<li>Parameters:
					<ul>
						<li><em>none</em></li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...],
   content: [
      {
         key: &lt;accountKey&gt;,
         name: &lt;accountName&gt;,
         balance: &lt;accountBalance&gt;
      },
      ...
   ]
}</pre>
				</li>
			</ul>
			<h1 id="cashflow">Cash Flow</h1>
			<h2>Query Cash Flow</h2>
			<ul>
				<li>Description: Queries the server for information about the cash flow.</li>
				<li>Command: cashflow/q</li>
				<li>Parameters:
					<ul>
						<li><em>none</em></li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...],
   content: {
      key: &lt;cashflowKey&gt;,
      user: {
         email: &lt;userEmail&gt;,
         authDomain: &lt;authDomain&gt;,
         userId: &lt;userId&gt;
      }
   }
}</pre>
				</li>
			</ul>
			<h1 id="entries">Entries</h1>
			<h2>Edit Entry</h2>
			<ul>
				<li>Description: Edits or adds an entry to a transaction for an account.</li>
				<li>Command: entry/edit</li>
				<li>Parameters:
					<ul>
						<li>account: The key of the account</li>
						<li>xaction: The key of the transaction</li>
						<li>amount: The amount of the entry</li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...],
   content: {
      key: &lt;entryKey&gt;,
      account: &lt;accountKey&gt;,
      amount: &lt;entryAmount&gt;
   }
}</pre>
				</li>
			</ul>
			<h1 id="transactions">Transactions</h1>
			<h2>Add Transaction</h2>
			<ul>
				<li>Description: Creates a new transaction.</li>
				<li>Command: xaction/add</li>
				<li>Parameters:
					<ul>
						<li>name: The name of the transaction</li>
						<li>date: The date of the transaction (YYYY-MM-DD format)</li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...],
   content: {
      details: {
         key: &lt;xactionKey&gt;,
         name: &lt;xactionName&gt;,
         date: &lt;xationDate&gt;
      },
      entries: { }
   }
}</pre>
				</li>
			</ul>
			<h2>Copy Transaction</h2>
			<ul>
				<li>Description: Creates a new transaction based on an existing transaction.</li>
				<li>Command: xaction/copy</li>
				<li>Parameters:
					<ul>
						<li>key: The key of the existing transaction</li>
						<li>name: The name of the new transaction</li>
						<li>date: The date of the new transaction (YYYY-MM-DD format)</li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...],
   content: {
      details: {
         key: &lt;xactionKey&gt;,
         name: &lt;xactionName&gt;,
         date: &lt;xationDate&gt;
      },
      entries: {
         &lt;accountKey0&gt;: &lt;entryAmount0&gt;,
         &lt;accountKey1&gt;: &lt;entryAmount1&gt;,
         ...
      }
   }
}</pre>
				</li>
			</ul>
			<h2>Delete Transaction</h2>
			<ul>
				<li>Description: Deletes an existing transaction</li>
				<li>Command: xaction/delete</li>
				<li>Parameters:
					<ul>
						<li>key: The key of the transaction</li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...]
}</pre>
			</ul>
			<h2>Edit Transaction</h2>
			<ul>
				<li>Description: Updates an existing transaction</li>
				<li>Command: xaction/edit</li>
				<li>Parameters:
					<ul>
						<li>key: The key of the transaction</li>
						<li>name: The new name of the transaction</li>
						<li>date: The new date of the transaction</li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...],
   content: {
      key: &lt;xactionKey&gt;,
      name: &lt;xactionName&gt;,
      date: &lt;xactionDate&gt;
   }
}</pre>
			</ul>
			<h2>Query Transactions</h2>
			<ul>
				<li>Description: Queries the server for a list of accounts.</li>
				<li>Command: account/q</li>
				<li>Parameters:
					<ul>
						<li>month: The month containing the transactions to be returned</li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...],
   content: [
      {
         details: {
            key: &lt;xactionKey&gt;,
            name: &lt;xactionName&gt;,
            date: &lt;xationDate&gt;
         },
         entries: {
            &lt;accountKey0&gt;: { 
               key: &lt;entryKey0&gt;,
               account: &lt;accountKey0&gt;,
               amount: &lt;entryAmount0&gt;
            },
            &lt;accountKey1&gt;: { 
               key: &lt;entryKey1&gt;,
               account: &lt;accountKey1&gt;,
               amount: &lt;entryAmount1&gt;
            }
            ...
         }
      },
      ...
   ]      
}</pre>
				</li>
			</ul>
			<h1 id="user">User</h1>
			<h2>Settings</h2>
			<ul>
				<li>Description: Creates a new transaction.</li>
				<li>Command: user/setting</li>
				<li>GET Parameters:
					<ul>
						<li>keys: A comma-separated list of settings keys</li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...],
   content: {
      key1: value1,
      key2: value2,
      ...
   }
}</pre>
				</li>
				<li>PUT Parameters:
					<ul>
						<li>key1: value1</li>
						<li>key2: value2</li>
						<li>...</li>
					</ul>
				</li>
				<li>Response:<br/>
					<pre class="prettyprint lang-js">{
   result: &lt;0|1&gt;,
   messages: [&lt;message0&gt;, &lt;message1&gt;, ...]
}</pre>
				</li>
			</ul>
		</div>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script type="text/javascript" src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prettify/r224/prettify.js"></script>
	</body>
</html>